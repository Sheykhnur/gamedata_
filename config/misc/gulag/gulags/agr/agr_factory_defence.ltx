[combat_ignore@agr_factory_defence]

[death@agr_factory_defence]
on_info = {=gulag_casualities_ge(agr_factory_defence:11)} %+agr_defence_cleared%

[death@agr_factory_defence1]
on_info = %+agr_factory_defence1_dead%

[death@agr_factory_defence2]
on_info = %+agr_factory_defence2_dead%

[death@agr_factory_defence3]
on_info = %+agr_factory_defence3_dead%

[death@agr_factory_defence4]
on_info = %+agr_factory_defence4_dead%

[death@agr_factory_defence5]
on_info = %+agr_factory_defence5_dead%

[death@agr_factory_defence6]
on_info = %+agr_factory_defence6_dead%

[death@agr_factory_defence7]
on_info = %+agr_factory_defence7_dead%

[death@agr_factory_defence8]
on_info = %+agr_factory_defence8_dead%

[death@agr_factory_defence9]
on_info = %+agr_factory_defence9_dead%

;;;;;;;;;;;;;new ones;;;;;;;;;;;;;

[death@agr_factory_defence10]
on_info = %+agr_factory_defence10_dead%

[death@agr_factory_defence11]
on_info = %+agr_factory_defence11_dead%

[death@agr_factory_defence12]
on_info = %+agr_factory_defence12_dead%

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[logic@agr_factory_defence_walker1]
active = walker1@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker1@agr_factory_defence]
path_walk = walk1
path_look = look1
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker2]
active = walker2@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker2@agr_factory_defence]
path_walk = walk2
path_look = look2
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker3]
active = walker3@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker3@agr_factory_defence]
path_walk = walk3
path_look = look3
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker4]
active = walker4@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker4@agr_factory_defence]
path_walk = walk4
path_look = look4
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker5]
active = walker5@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker5@agr_factory_defence]
path_walk = walk5
path_look = look5
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker6]
active = walker6@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker6@agr_factory_defence]
path_walk = walk6
path_look = look6
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker7]
active = walker7@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker7@agr_factory_defence]
path_walk = walk7
path_look = look7
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {-agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker8]
active = walker8@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker8@agr_factory_defence]
path_walk = walk8
path_look = look8
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {-agr_actor_close !hit_by_actor} true 
soundgroup = agr_factory_defence
team = agr_factory_defence

[logic@agr_factory_defence_walker9]
active = walker9@agr_factory_defence
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker9@agr_factory_defence]
path_walk = walk9
path_look = look9
;combat_ignore_cond = always
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
;invulnerable = {+agr_scene_completed -agr_actor_close !hit_by_actor} true
soundgroup = agr_factory_defence
team = agr_factory_defence

;;;;;;;;;;;;;;;;;;;;;;SKIRMISH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[logic@agr_factory_defence_skirmish_walker1]
active = walker1@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker1@agr_factory_defence_skirmish]
path_walk = skirmish1
;path_look = look1
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker2]
active = walker2@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker2@agr_factory_defence_skirmish]
path_walk = skirmish2
;path_look = look2
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker3]
active = walker3@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker3@agr_factory_defence_skirmish]
path_walk = skirmish3
;path_look = look3
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker4]
active = walker4@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker4@agr_factory_defence_skirmish]
path_walk = skirmish4
;path_look = look4
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker5]
active = walker5@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker5@agr_factory_defence_skirmish]
path_walk = skirmish5
;path_look = look5
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker6]
active = walker6@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker6@agr_factory_defence_skirmish]
path_walk = skirmish6
;path_look = look6
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker7]
active = walker7@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker7@agr_factory_defence_skirmish]
path_walk = skirmish7
;path_look = look7
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker8]
active = walker8@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker8@agr_factory_defence_skirmish]
path_walk = skirmish8
;path_look = look8
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

[logic@agr_factory_defence_skirmish_walker9]
active = walker9@agr_factory_defence_skirmish
on_death = death@agr_factory_defence

[walker9@agr_factory_defence_skirmish]
path_walk = skirmish9
;path_look = look9
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
danger = danger@agr_factory_defence_ignore_corpses
soundgroup = agr_factory_defence_skirmish
team = agr_factory_defence

;;;;;;;;;;;;;;;;;;;;;;KROT ESCORT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[danger@agr_factory_defence_ignore_corpses]
;ignore_distance = 0
;ignore_distance_corpse  = 0

[danger@agr_factory_defence]
;ignore_distance = 0

[danger@agr_factory_defence_krot]
;ignore_distance = 0
;danger_inertion_time   = 8000
;ignore_distance_corpse = 0

[wounded@agr_factory_defence]
hp_state = 10|wounded_heavy@help_heavy
hp_state_see = 10|wounded_heavy@help_heavy
hp_victim = 10|nil
hp_cover = 10|false
hp_fight = 10|false

[logic@agr_factory_defence_krot_walker1]
active = walker1@agr_factory_defence_krot

[walker1@agr_factory_defence_krot]
path_walk = krot_walk1
;path_look = krot_look1
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker2]
active = walker2@agr_factory_defence_krot

[walker2@agr_factory_defence_krot]
path_walk = krot_walk2
;path_look = krot_look2
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker3]
active = walker3@agr_factory_defence_krot

[walker3@agr_factory_defence_krot]
path_walk = krot_walk3
;path_look = krot_look3
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker4]
active = walker4@agr_factory_defence_krot

[walker4@agr_factory_defence_krot]
path_walk = krot_walk4
;path_look = krot_look4
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker5]
active = walker5@agr_factory_defence_krot

[walker5@agr_factory_defence_krot]
path_walk = krot_walk5
;path_look = krot_look5
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker6]
active = walker6@agr_factory_defence_krot

[walker6@agr_factory_defence_krot]
path_walk = krot_walk6
;path_look = krot_look6
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker7]
active = walker7@agr_factory_defence_krot

[walker7@agr_factory_defence_krot]
path_walk = krot_walk7
;path_look = krot_look7
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker8]
active = walker8@agr_factory_defence_krot

[walker8@agr_factory_defence_krot]
path_walk = krot_walk8
;path_look = krot_look8
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker9]
active = walker9@agr_factory_defence_krot

[walker9@agr_factory_defence_krot]
path_walk = krot_walk9
;path_look = krot_look9
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker10]
active = walker10@agr_factory_defence_krot

[walker10@agr_factory_defence_krot]
path_walk = krot_walk10
path_look = krot_look10
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker11]
active = walker11@agr_factory_defence_krot

[walker11@agr_factory_defence_krot]
path_walk = krot_walk11
path_look = krot_look11
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

[logic@agr_factory_defence_krot_walker12]
active = walker12@agr_factory_defence_krot

[walker12@agr_factory_defence_krot]
path_walk = krot_walk12
path_look = krot_look12
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence_krot
wounded = wounded@agr_factory_defence
def_state_moving1 = run
def_state_moving2 = run
def_state_moving3 = run
soundgroup = agr_factory_defence_krot
team = agr_factory_defence

;**************************************************************************************************************

[threshold@agr_factory_defence_to_well]
ignore_distance = 5

[logic@agr_factory_defence_to_well_walker1]
active = walker1@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker1@agr_factory_defence_to_well]
path_walk = to_well_walk1
on_signal = well | walker1@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker1@agr_factory_defence_well]
path_walk = well_walk1
path_look = well_look1
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker2]
active = walker2@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker2@agr_factory_defence_to_well]
path_walk = to_well_walk2
on_signal = well | walker2@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker2@agr_factory_defence_well]
path_walk = well_walk2
path_look = well_look2
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker3]
active = walker3@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker3@agr_factory_defence_to_well]
path_walk = to_well_walk3
on_signal = well | walker3@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker3@agr_factory_defence_well]
path_walk = well_walk3
path_look = well_look3
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker4]
active = walker4@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker4@agr_factory_defence_to_well]
path_walk = to_well_walk4
on_signal = well | walker4@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker4@agr_factory_defence_well]
path_walk = well_walk4
path_look = well_look4
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker5]
active = walker5@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker5@agr_factory_defence_to_well]
path_walk = to_well_walk5
on_signal = well | walker5@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker5@agr_factory_defence_well]
path_walk = well_walk5
path_look = well_look5
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker6]
active = walker6@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker6@agr_factory_defence_to_well]
path_walk = to_well_walk6
on_signal = well | walker6@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker6@agr_factory_defence_well]
path_walk = well_walk6
path_look = well_look6
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker7]
active = walker7@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker7@agr_factory_defence_to_well]
path_walk = to_well_walk7
on_signal = well | walker7@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker7@agr_factory_defence_well]
path_walk = well_walk7
path_look = well_look7
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_to_well
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker8]
active = walker8@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker8@agr_factory_defence_to_well]
path_walk = to_well_walk8
on_signal = well | walker8@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker8@agr_factory_defence_well]
path_walk = well_walk8
path_look = well_look8
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker9]
active = walker9@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker9@agr_factory_defence_to_well]
path_walk = to_well_walk9
on_signal = well | walker9@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker9@agr_factory_defence_well]
path_walk = well_walk9
path_look = well_look9
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_to_well
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker10]
active = walker10@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker10@agr_factory_defence_to_well]
path_walk = to_well_walk10
on_signal = well | walker10@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker10@agr_factory_defence_well]
path_walk = well_walk10
path_look = well_look10
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker11]
active = walker11@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker11@agr_factory_defence_to_well]
path_walk = to_well_walk11
on_signal = well | walker11@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker11@agr_factory_defence_well]
path_walk = well_walk11
path_look = well_look11
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[logic@agr_factory_defence_to_well_walker12]
active = walker12@agr_factory_defence_to_well
combat_ignore = combat_ignore@agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker12@agr_factory_defence_to_well]
path_walk = to_well_walk12
on_signal = well | walker12@agr_factory_defence_well
danger = danger@agr_factory_defence
wounded = wounded@agr_factory_defence
def_state_moving1 = assault
def_state_moving2 = assault
def_state_moving3 = assault
combat_ignore_cond = {=fighting_dist_ge(10)}
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well

[walker12@agr_factory_defence_well]
path_walk = well_walk12
path_look = well_look12
meet = meet@agr_factory_defence
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_well
team = agr_factory_defence
threshold = threshold@agr_factory_defence_to_well
combat_ignore_cond = {=fighting_dist_ge(10)}

[meet@agr_factory_defence]
meet_state = 2 | guard
meet_state_wpn = 2 | guard
victim = 2 | actor
victim_wpn = 2 | actor
use = true
use_wpn = true

;;;;;;;;;;;;;;;;;;;;;;WAITING;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[death@agr_factory_defence_waiting_leader]
on_info = %+agr_attack_begin%
on_info2 = {=gulag_casualities_ge(agr_factory_defence:11)} %+agr_defence_cleared%

[logic@agr_factory_defence_waiting_stalker1]
active = walker@agr_factory_defence_waiting_stalker1
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence_waiting_leader

[walker@agr_factory_defence_waiting_stalker1]
path_walk = waiting_walk_1
path_look = waiting_look_1
combat_ignore_cond = {-agr_attack_begin}
meet = no_meet
on_info = {=rostok_dist_to_actor_le(12)} remark@agr_factory_defence_waiting_stalker1, {+agr_help_krot_start} remark@agr_factory_defence_waiting_stalker1                       
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence
 
[remark@agr_factory_defence_waiting_stalker1]
anim = hide
snd = agr_stalker_help_3
target = actor
on_signal = sound_end | camper@agr_factory_defence_waiting_stalker1 %+agr_attack_begin%
danger = danger@agr_factory_defence
combat_ignore_cond = {-agr_attack_begin}
 
[camper@agr_factory_defence_waiting_stalker1]
path_walk = attack_camper_1
path_look = attack_camper_look
def_state_moving = assault
no_retreat = true
radius = 10
danger = danger@agr_factory_defence
on_signal = univ | walker1@agr_factory_defence_waiting_stalker1
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence

[walker1@agr_factory_defence_waiting_stalker1]
path_walk = attack_camper_1
path_look = attack_camper_look
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence

[logic@agr_factory_defence_waiting_stalker2]
active = walker@agr_factory_defence_waiting_stalker2
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker@agr_factory_defence_waiting_stalker2]
path_walk = waiting_walk_2
path_look = waiting_look_2
combat_ignore_cond = always
meet = no_meet
on_info = {+agr_attack_begin} camper@agr_factory_defence_waiting_stalker2
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence

[camper@agr_factory_defence_waiting_stalker2]
path_walk = attack_camper_2
path_look = attack_camper_look
def_state_moving = assault
no_retreat = true
radius = 10
danger = danger@agr_factory_defence
on_signal = univ | walker1@agr_factory_defence_waiting_stalker2
soundgroup = agr_factory_defence_waiting
 
[walker1@agr_factory_defence_waiting_stalker2]
path_walk = attack_camper_2
path_look = attack_camper_look
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence
 
[logic@agr_factory_defence_waiting_stalker3]
active = walker@agr_factory_defence_waiting_stalker3
combat_ignore = combat_ignore@agr_factory_defence
on_death = death@agr_factory_defence

[walker@agr_factory_defence_waiting_stalker3]
path_walk = waiting_walk_3
path_look = waiting_look_3
combat_ignore_cond = always
meet = no_meet
on_info = {+agr_attack_begin} camper@agr_factory_defence_waiting_stalker3
danger = danger@agr_factory_defence
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence

[camper@agr_factory_defence_waiting_stalker3]
path_walk = attack_camper_3
path_look = attack_camper_look
def_state_moving = assault
no_retreat = true 
radius = 10
danger = danger@agr_factory_defence
on_signal = univ | walker1@agr_factory_defence_waiting_stalker3
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence

[walker1@agr_factory_defence_waiting_stalker3]
path_walk = attack_camper_3
path_look = attack_camper_look
soundgroup = agr_factory_defence_waiting
team = agr_factory_defence