;***************************ds_dark_stalker*****************************

[combat_ignore@ds_dark]

[death@ds_dark_leader]
on_info = %+ds_sin_death%

[death@ds_sin]
on_info = {=gulag_population_active_le(ds_dark_stalker:3)} %+ds_dstalkers_dead%
on_info2 = {=killed_by_actor -ds_sin_hit} %+ds_sin_hit =dialog_garbage.gar_sin_enemy()%
on_info3 = {+gar_dolg_blockpost_attack_ready -ds_attack_group_start} %+ds_attack_group_start =dialog_garbage.gar_sin_enemy()%

[hit@ds_dark_stalkers]
on_info = {=hit_by_actor -ds_sin_hit} %+ds_sin_hit =dialog_garbage.gar_sin_enemy()%
on_info2 = {+gar_dolg_blockpost_attack_ready -ds_attack_group_start} %+ds_attack_group_start =dialog_garbage.gar_sin_enemy()%

[actor_dialog@ds_leader]
id = ds_boss_prisoner,ds_boss_prisoner_done

[logic@ds_dark_stalker_kamper1]
active = walker@ds_dark_stalker_camp2
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_camp2]
path_walk = fireplace1_camp_way1
path_look = fireplace1_camp_look1
kamp_name = kamp1

[logic@ds_dark_stalker_kamper2]
active = kamper@ds_dark_stalker_camp1
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[kamper@ds_dark_stalker_camp1]
path_walk = fireplace1_camp_way3
path_look = fireplace1_camp_way3
kamp_name = kamp1
on_info = {+ds_attack_group_start} walker@ds_dark_stalker_camp1

[walker@ds_dark_stalker_camp1]
path_walk = fireplace1_camp_way3
path_look = fireplace1_camp_way3

[logic@ds_dark_stalker_kamper3]
active = kamper@ds_dark_stalker_camp3
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[kamper@ds_dark_stalker_camp3]
path_walk = fireplace2_camp_way3
path_look = fireplace2_camp_look3
kamp_name = kamp2
on_info = {+ds_attack_group_start} walker@ds_dark_stalker_camp3

[walker@ds_dark_stalker_camp3]
path_walk = fireplace2_camp_way3
path_look = fireplace2_camp_look3

[logic@ds_dark_stalker_kamper4]
active = kamper@ds_dark_stalker_camp4
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[kamper@ds_dark_stalker_camp4]
path_walk = fireplace2_camp_way4
path_look = fireplace2_camp_look4
kamp_name = kamp2
on_info = {+ds_attack_group_start} walker@ds_dark_stalker_camp4

[walker@ds_dark_stalker_camp4]
path_walk = fireplace2_camp_way4
path_look = fireplace2_camp_look4

[logic@ds_dark_stalker_kamper5]
active = kamper@ds_dark_stalker_camp5
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[kamper@ds_dark_stalker_camp5]
path_walk = fireplace2_camp_way1
path_look = fireplace2_camp_look1
kamp_name = kamp2
on_info = {+ds_attack_group_start} walker@ds_dark_stalker_camp5

[walker@ds_dark_stalker_camp5]
path_walk = fireplace2_camp_way1
path_look = fireplace2_camp_look1


[logic@ds_dark_stalker_kamper6]
active = kamper@ds_dark_stalker_camp_ent
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[kamper@ds_dark_stalker_camp_ent]
path_walk = fireplace3_camp_way1
path_look = fireplace3_camp_look1
kamp_name = kamp3
on_info = {+ds_attack_group_start} walker@ds_dark_stalker_camp_ent

[walker@ds_dark_stalker_camp_ent]
path_walk = fireplace3_camp_way1
path_look = fireplace3_camp_look1


[logic@ds_dark_stalker_kamper7]
active = kamper@ds_dark_stalker_camp_ent2
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[kamper@ds_dark_stalker_camp_ent2]
path_walk = fireplace3_camp_way2
path_look = fireplace3_camp_look2
kamp_name = kamp3
on_info = {+ds_attack_group_start} walker@ds_dark_stalker_camp_ent2

[walker@ds_dark_stalker_camp_ent2]
path_walk = fireplace3_camp_way2
path_look = fireplace3_camp_look2


[logic@ds_dark_stalker_camper1]
active = walker@ds_dark_stalker_camp_ent4
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_camp_ent4]
path_walk = ent_guard_way
path_look = ent_guard_look

[logic@ds_dark_stalker_camper2]
active = walker@ds_dark_stalker_camp_ent3
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_camp_ent3]
path_walk = ent_camp_way 
path_look = ent_camp_look

[logic@ds_dark_stalker_patrol1]
active = walker@ds_dark_stalker_basepatrol1
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_basepatrol1]
path_walk = base_patrol1_way

[logic@ds_dark_stalker_patrol2]
active = walker@ds_dark_stalker_basepatrol2
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_basepatrol2]
path_walk = base_patrol2_way

[logic@ds_dark_stalker_leader_guard1]
active = walker@ds_dark_stalker_leader_guard
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_leader_guard]
path_walk = leader_guard_way

[logic@ds_dark_stalker_leader_guard2]
active = walker@ds_dark_stalker_leader_guard2
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_leader_guard2]
path_walk = leader_guard2_way

[logic@ds_dark_stalker_informer]
active = walker@ds_dark_stalker_informer
on_hit = hit@ds_dark_stalkers
on_death = death@ds_sin

[walker@ds_dark_stalker_informer]
path_walk = informator_way
path_look = informator_look 

[logic@ds_dark_stalker_leader]
active = walker@ds_dark_stalker_leader
combat_ignore = combat_ignore@ds_dark
actor_dialog = actor_dialog@ds_leader
on_death = death@ds_dark_leader
on_hit = hit@ds_dark_stalkers

[walker@ds_dark_stalker_leader]
path_walk = leader_way
path_look = leader_look
on_info = {+ds_leader_meet} remark@ds_leader_ward
on_info2 = {+ds_reached_critical_area} remark@ds_leader_prisoner

[remark@ds_leader_ward]
anim = ward
snd = ds_leader_greet
on_signal = sound_end| walker@ds_leader_meet
on_info = {+ds_reached_critical_area} remark@ds_leader_prisoner

[walker@ds_leader_meet]
path_walk = leader_way
path_look = leader_look
meet = meet@ds_leader
on_info = {+ds_reached_critical_area} remark@ds_leader_prisoner

[meet@ds_leader]
use = true
use_wpn = false
victim 	= 5| actor
victim_wpn = 5| actor
meet_state = 5|ward
meet_state_wpn = 5|ward
meet_dialog	= ds_boss_talk
allow_break = false

[remark@ds_leader_prisoner]
anim = hands_up
snd = ds_sin_leader_shoot
target = 7521
combat_ignore_cond = always
meet = no_meet
on_timer = 5000 | walker@ds_leader_prisoner_new %+ds_base_cleared%
;on_info = {=gulag_population_active_le(ds_dark_stalker:8)} walker@ds_leader_prisoner_new

[walker@ds_leader_prisoner_new]
path_walk = leader_way
path_look = leader_look
def_state_standing = prisoner
meet = meet@ds_leader_prisoner
combat_ignore_cond = always
on_info = {+ds_prisoner_set_enemy} walker@ds_leader_fail

[meet@ds_leader_prisoner]
use = true
use_wpn = false
victim 	= 5| actor
victim_wpn = 5| actor
meet_talk_enabled = false
meet_state = 5|nil
meet_state_wpn = 5|nil
allow_break = false

[walker@ds_leader_fail]
path_walk = leader_way
path_look = leader_look
meet = no_meet
combat_ignore_cond = never


