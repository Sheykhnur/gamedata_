[logic]
active = heli_move@idle

[heli_move@idle]
path_move = aes_heli1_idle
engine_sound = false
combat_use_rocket = false
combat_use_mgun = false
on_info = {+aes_heli_raid} heli_move@aes1
on_info2 = {+npp_chose_dolg1} heli_move@aes1_btr
on_info3 = {+aes_help_raiders_refuse} heli_move@aes1_btr

[heli_move@aes1]
path_move = aes_heli_move1_4
path_look = aes_heli_move_look1
combat_use_rocket = true
;combat_enemy = 7117
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -10
invulnerable = false
immortal = false
on_signal = cam | {=tasks_stancia.aes_heli_cond} %+aes_heli1_pos%
on_signal2 = reached | heli_move@target1 %+aes_heli1_regrouped%

[heli_move@aes1_btr]
path_move = aes_heli_move1_4
path_look = aes_heli_move_look1
combat_use_rocket = true
combat_enemy = 7106
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -10
invulnerable = false
immortal = false
on_info = {+aes_btr_death2} heli_move@target1


[heli_move@target1]
path_move = aes_heli_patrol
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7126
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7126)} heli_move@target2
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@target2]
path_move = aes_heli_patrol
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7127
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7127)} heli_move@target3
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@target3]
path_move = aes_heli_patrol
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7128
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7128)} heli_move@target4
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@target4]
path_move = aes_heli_patrol
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7129
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7129) +aes_ambush_dead} heli_move@release
on_info2 = {=is_dead_one(7129) +aes_btr_death2 -aes_ambush_dead} heli_move@ambush1
;on_info3 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@ambush1]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7119
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7119)} heli_move@ambush2
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@ambush2]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7120
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7120)} heli_move@ambush3
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@ambush3]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7121
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7121)} heli_move@ambush4
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@ambush4]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7122
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7122)} heli_move@release
;on_info2 = {=heli_health_le(0.3)} heli_move@death1

[heli_move@release]
path_move = aes_heli_regroup4
combat_use_rocket = false
combat_use_mgun = false
engine_sound = true
default_velocity = 60
on_signal = release | %=release%

[heli_move@death1]
path_move = aes_heli_die
invulnerable = true
combat_ignore = true
