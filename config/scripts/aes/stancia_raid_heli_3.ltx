[logic]
active = heli_move@idle

[heli_move@idle]
path_move = aes_heli3_idle
engine_sound = false
combat_use_rocket = false
combat_use_mgun = false
on_info = {+aes_heli_raid} heli_move@aes3
on_info2 = {+npp_chose_dolg1} heli_move@aes3_btr
on_info3 = {+aes_help_raiders_refuse} heli_move@aes3_btr

[heli_move@aes3]
path_move = aes_heli_move3_6
path_look = aes_heli_move_look3
combat_use_rocket = true
;combat_enemy = 7117
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -10
invulnerable = false
immortal = false
on_signal = reached | heli_move@3target1 %+aes_heli3_regrouped%

[heli_move@aes3_btr]
path_move = aes_heli_move3_6
path_look = aes_heli_move_look3
combat_use_rocket = true
combat_enemy = 7106
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -10
invulnerable = false
immortal = false
on_info = {+aes_btr_death2} heli_move@3target1

[heli_move@3target1]
path_move = aes_heli_patrol3
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7134
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7134)} heli_move@3target2
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3target2]
path_move = aes_heli_patrol3
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7135
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7135)} heli_move@3target3
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3target3]
path_move = aes_heli_patrol3
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7136
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7136)} heli_move@3target4
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3target4]
path_move = aes_heli_patrol3
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7137
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7137) +aes_ambush_dead} heli_move@3release
on_info2 = {=is_dead_all(7137:7123:7124) +aes_btr_death2 -aes_ambush_dead} heli_move@3ambush1
;on_info3 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3ambush1]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7119
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7119)} heli_move@3ambush2
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3ambush2]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7120
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7120)} heli_move@3ambush3
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3ambush3]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7121
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7121)} heli_move@3ambush4
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3ambush4]
path_move = aes_raiders_heli_ambush_path
combat_use_rocket = false
combat_use_mgun = true
combat_enemy = 7122
engine_sound = true
default_velocity = 30
combat_velocity = 30
combat_safe_altitude = -100
invulnerable = false
immortal = false
on_info = {=is_dead_one(7122)} heli_move@3release
;on_info2 = {=heli_health_le(0.3)} heli_move@death3

[heli_move@3release]
path_move = aes_heli_regroup6
combat_use_rocket = false
combat_use_mgun = false
engine_sound = true
default_velocity = 60
on_signal = release | %=release%

[heli_move@death3]
path_move = aes_heli_die3
invulnerable = true
combat_ignore = true