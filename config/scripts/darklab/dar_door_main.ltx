[logic]
active = ph_door@close1

[ph_door@close1]
locked = false
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@open1
on_info = {=has_any_info(dar_document1:dar_document2:dar_document3:dar_document4:dar_document5:dar_door_trigger)} ph_door@lock

[ph_door@open1]
locked = false
closed = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@close1
on_info = {=has_any_info(dar_document1:dar_document2:dar_document3:dar_document4:dar_document5:dar_door_trigger)} ph_door@lock

[ph_door@lock]
locked = true
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {+dar_barman_has_all_x18_docs} ph_door@open2

[ph_door@close2]
locked = false
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@open2

[ph_door@open2]
locked = false
closed = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@close2