;CONTROL ROOM DOOR
[logic]
active = ph_door@locked

[ph_door@locked]
closed = true
locked = true
tip_open = bun_shut_down_security_first
snd_open_start = trader_door_locked
on_info = {+bunker_code_entered} ph_door@open %=play_snd_from_obj(7801:device\door_servomotor)%

[ph_door@closed]
closed = true
locked = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@open

[ph_door@open]
closed = false
locked = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@closed
on_info = {+bun_control_switch_1_off -bun_its_so_sad_player_alive} ph_door@force_lock %=play_snd_from_obj(7801:device\door_servomotor)%

[ph_door@force_lock]
closed = true
locked = true
snd_open_start = trader_door_locked
on_info = {+bun_its_so_sad_player_alive} ph_door@open