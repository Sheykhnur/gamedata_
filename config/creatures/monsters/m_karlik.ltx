[m_karlik_attack_params]
;---------------------------------------------------------------------------------------------------------------------------------------------
;	anim			| time[0..1] | hit_power | impulse | impulse_dir (x,y,z)  |	Field of hit_test  (left,right, bottom, top ) |	Test Dist
;---------------------------------------------------------------------------------------------------------------------------------------------
stand_attack_0    		= 0.4,		0.40,	       100,        2.0, 1.0, 0.5,		 -1.6, 1.6, -1.6, 1.6,				              2.3
stand_attack_1			= 0.4,		0.40,	       100,        2.0, 1.0, 0.5,		 -1.6, 1.6, -1.6, 1.6,				              2.3
stand_attack_2			= 0.4,		0.40,	       100,        2.0, 1.0, 0.5,		 -1.6, 1.6, -1.6, 1.6,				              2.3


[m_karlik_step_params]
;---------------------------------------------------------------------------
;	anim						| Cycles | time1 | power1 | time2 | power2 |
;---------------------------------------------------------------------------
stand_walk_fwd_0                    = 1,	   0.01,     1,     0.25,    0.7,
stand_walk_dmg_0                    = 1,	   0.01,     1,     0.25,    0.7,
stand_run_fwd_0                     = 1,	   0.01,     1,	    0.25,    0.6,
stand_run_dmg_0                     = 1,	   0.01,     1,	    0.25,    0.6,


;===========================================================================
; IMMUNITIES
;===========================================================================
[karlik_immunities]
burn_immunity                       = 0.15
strike_immunity                     = 0.4
shock_immunity                      = 0.05
wound_immunity                      = 0.65
radiation_immunity                  = 0.0
telepatic_immunity                  = 0.0
chemical_burn_immunity              = 0.15
explosion_immunity                  = 1.0
fire_wound_immunity                 = 1.0


[m_karlik_attack_effector]
duality_h                           = 0.01
duality_v                           = 0.01
blur                                = 0.01
gray                                = 0.5
noise_intensity                     = 0.0
noise_grain                         = 1
noise_fps                           = 30
color_base                          = 0.65,0.15,0.1
color_gray                          = 0.333,0.333,0.333
color_add                           = 0,0,0
time                                = 0.3
time_attack                         = 0.05		; fade in
time_release                        = 0.25		; fade out

; camera effects
ce_time                             = 0.45 ;time
ce_amplitude                        = -7.0
ce_period_number                    = 2.0
ce_power                            = 1.5 ;0.7 ; power


[m_karlik_e]:monster_base
GroupControlSection                 = spawn_group

;-- barin start
;--SpaceRestrictionSection = space_restrictor,zone_mosquito_bald,zone_witches_galantine,zone_burning_fuzz1,zone_mincer,zone_gravi_zone

;-- space restrictor, Burner, Electro, Radioactivity, Fruit punch, Burnt Fuzz, Whirligig, Vortex, Springboard, ???
SpaceRestrictionSection             = space_restrictor, zone_zharka_static, zone_witches_galantine, zone_radioactive, zone_ameba, zone_burning_fuzz1, zone_mincer, zone_gravi_zone, zone_mosquito_bald, zone_buzz
;-- barin end

$npc                                = on						; option for Level Editor
$prefetch                           = 16
Scheduled                           = on						; option for ALife Simulator
Human                               = off						; option for ALife Simulator
Health                              = 50						; option for ALife Simulator
MinSpeed                            = 0.5						; option for ALife Simulator
MaxSpeed                            = 3.0						; option for ALife Simulator
going_speed                         = 1.5                      ; option for ALife Simulator
search_speed                        = 1.0                       ; option for ALife Simulator
MissPowerOnHit                      = 0.7
visual                              = monsters\karlik\karlik_1.ogf
corpse_visual                       = monsters\karlik\karlik_1.ogf

icon                                = ui_npc_monster_karlik_small


MaxHealthValue                      = 50			; range [0..200]
DynamicObjectsCount                 = 32
smart_terrain_choose_interval       = 00:15:00
satiety_threshold                   = 0.5
jump_max_height                     = 0.01

carbody_name                        = Karlik

Spawn_Inventory_Item_Section        = mutant_karlik_ear
Spawn_Inventory_Item_Class			= karlik
Spawn_Inventory_Item_Probability    = 0.75
character_use						= dead_ear_use

script_binding                      = bind_monster.bind

cform                               = skeleton					; collision class
class                               = SM_KARLO 	 ; AI class


;---EVALUATION FUNCTIONS----------------------------------------------
ef_creature_type                    = 2				; option for evaluation functions
ef_weapon_type                      = 2
ef_detector_type                    = 1
panic_threshold                     = 0.0

actor_restrictor                    = none ;medium_monster ;medium_monster,stalker,none

bone_torso                          = bip01_spine1 			; bone name
bone_head                           = bip01_head				; bone name
bone_fire                           = bip01_head				; bone name
weapon_usage                        = 0						; boolean

ph_box0_center                      = 0.1,  0.9,  0.1
ph_box0_size                        = 0.35, 0.9,  0.35
ph_box1_center                      = 0.1,  0.6,  0.1
ph_box1_size                        = 0.40, 0.6,  0.40
ph_crash_speed_min                  = 10
ph_crash_speed_max                  = 30
ph_collision_damage_factor          = 0.1
;-- barin start
;--ph_mass 				= 50 ;100
ph_mass                             = 30
;-- barin end

destroyed_vis_name                  = physics\Dead_Body\trupik_crash

;---------------------------------------------------------------------
ph_skeleton_airr_lin_factor         = 0.5 ;550.0 (изменно из-за того, что убрано домножение коэффициент 0.002 из кода)
ph_skeleton_airr_ang_factor         = 0.0 ;0.0 (изменно из-за того, что убрано домножение на коэффициент 0.3 из кода (0.0*0.3=0.0))
ph_skeleton_hinger_factor1          = 1.0 ;1.0 (изменно из-за того, что убрано домножение на коэффициент 5.0 из кода)
ph_skeleton_ddelay                  = 5.0 ;Время изменения значения трения в суставе с момента создания шелла, сек

; ph_skel_fatal_impulse_factor        = 2.0
;---------------------------------------------------------------------

Tele_Time_To_Hold                   = 100
SoundThreshold                      = 0.06             ; range [0..1]

eye_fov                             = 100;
eye_range                           = 50	;30
max_hear_dist                       = 50

hit_power                           = 10.0

ImpulseMin                          = 100.0
ImpulseMax                          = 400.0

; speed factors						linear | angular_real | angular_path | min |  max
Velocity_Stand                      = 0,		2.8,			2.8,		1,		1
Velocity_WalkFwdNormal              = 2.0,		1.4,			1.4,		0.02,	2.0
Velocity_RunFwdNormal               = 3.5,		3.5,			3.5,		0.4,	1
Velocity_WalkFwdDamaged             = 1.0,		0.8,			0.8,		0.2,	2.0
Velocity_RunFwdDamaged              = 1.6,  	1.6,			1.6,		0.2,	1
Velocity_Drag                       = 1.0,		3.0,			3.0,		1,		1
Velocity_Steal                      = 1.5,		3.0,			3.0,		1,		1

; acceleration
Accel_Generic                       = 2.0
Accel_Calm                          = 5
Accel_Aggressive                    = 7.5

;attack parameters
MinAttackDist                       = 1.1	;0.5
MaxAttackDist                       = 2.0	;3.8

Melee_Rotation_Factor               = 1.8

as_min_dist                         = 1.4
as_step                             = 0.2


DayTime_Begin                       = 0			; эрўрыр фэ  фы  ьюэёЄЁр
DayTime_End                         = 21		; ъюэхЎ фэ  фы  ьюэёЄЁр
Min_Satiety                         = 0.4		; ьшэ. эюЁьр ёvЄюёЄш (ьхэ№°х - єцх уюыюфэvщ)
Max_Satiety                         = 1.0		; ьръё. эюЁьр ёvЄюёЄш (сюы№°х - юўхэ№ ёvЄvщ)

distance_to_corpse                  = 1.2		; фшёЄ. фю ЄЁєяр, яЁш ъюЄюЁющ юэ яхЁхїюфшЄ т ёюёЄю эшх хфv



terrain                             = zombie_terrain

hit_type                            = wound

; entity condition
satiety_v                           = 0.00001	;0.01			;скорость уменьшения сытости со временем
radiation_v                         = 0.00001	;0.004			;скорость уменьшения радиации
satiety_power_v                     = 0.01		;0.01			;увеличение силы при уменьшении сытости
satiety_health_v                    = 0.005		;0.03			;увеличение здоровья при уменьшении сытости
satiety_critical                    = -1.0			;0.25			;критическое значения сытости (в процентах от 0..1) когда здоровье начианает уменьшаться
radiation_health_v                  = 0.01		;0.006			;уменьшение здоровья при воздействии радиации
morale_v                            = 0.01						;скорость восстановления морали
health_hit_part                     = 0.10		;0.8			;процент хита, уходящий на отнимание здоровья
power_hit_part                      = 0.25		;0.9			;процент хита, уходящий на отнимание силы
psy_health_v                        = 0.1						;скорость восстановления psy-здоровья
health_restore_v                    = 0.0001

immunities_sect                     = karlik_immunities

;открытые раны
bleeding_v                          = 0.001						;потеря крови при номинальной ране в секунду
wound_incarnation_v                 = 0.0				;крутизна кривой заживления (какой процент раны останется после заживления в игровую секунду)
min_wound_size                      = 0.01

sleep_health                        = 1.0		;1.5				;ъю¤ЇЇшЎшхэЄv ёъюЁюёЄхщ шчьхэхэш  ярЁрьхЄЁют тю тЁхь  ёэр
sleep_power                         = 1.0		;1.5
sleep_satiety                       = 1.0		;0.8
sleep_radiation                     = 1.0		;1.1
sleep_psy_health                    = 1.0

eat_freq                            = 5.0		; ўрёЄюЄр єъєёют т ёхъ
eat_slice                           = 0.01	; єтхышўхэшх ёvЄюёЄш яЁш 1 єъєёх
eat_slice_weight                    = 10.0	; єьхэ№°хэшх хфv є ЄЁєяр

; Morale
Morale_Hit_Quant                    = 0.001
Morale_Attack_Success_Quant         = 0.1
Morale_Take_Heart_Speed             = 0.1
Morale_Despondent_Speed             = 0.1
Morale_Stable_Speed                 = 0.01
Morale_Despondent_Threashold        = 0.1

sound_idle                          = monsters\karlik\karlik_idle_
sound_eat                           = monsters\zombie\zombie_eat_
sound_aggressive                    = monsters\karlik\karlik_attack_
sound_attack_hit                    = monsters\zombie\zombie_attack_hit_
sound_take_damage                   = monsters\karlik\karlik_hurt_
sound_die                           = monsters\karlik\karlik_die_
sound_threaten                      = monsters\karlik\karlik_hurt_
sound_landing                       = monsters\biting\def_
sound_steal                         = monsters\zombie\zombie_eat_
sound_panic                         = monsters\karlik\karlik_attack_
sound_growling                      = monsters\karlik\karlik_idle_
sound_die_in_anomaly                = monsters\zombie\karlik_die_

killer_clsids                       = Z_MINCER,Z_GALANT,ZS_BFUZZ,ZS_MBALD,ZS_GALAN,ZS_MINCE


idle_sound_delay                    = 20000
eat_sound_delay                     = 3000
attack_sound_delay                  = 24000

sound_distant_idle                  = monsters\karlik\karlik_attack_
distant_idle_sound_delay            = 80000
distant_idle_sound_range            = 100.0

DamagedThreshold                    = 0.5
critical_wound_threshold            = 0.2
critical_wound_decrease_quant       = 0.

material                            = creatures\medium
DynamicObjectsCount                 = 32

squad_attack_algorithm              = 1
LegsCount                           = 2

attack_effector                     = m_karlik_attack_effector
attack_params                       = m_karlik_attack_params
step_params                         = m_karlik_step_params
damage                              = m_karlik_damage

;species of monster
community                           = karlik
species                             = fracture ;burer

vision_free_section                 = karlik_vision_free
vision_danger_section               = karlik_vision_danger

[karlik_vision_free]
min_view_distance                   = 0.7				; коэффициент, который множится на eye_range, в зависимости от угла
max_view_distance                   = 1.0				; коэффициент, который множится на eye_range, в зависимости от угла
visibility_threshold                = 100.0				; значение, при достижении суммой которого объект считается видимым
always_visible_distance             = 0.3
time_quant                          = 0.001
decrease_value                      = 0.01				; значение, на которое уменьшается вес, если объект попал в фрустум, но отсёкся по каким-то причинам
velocity_factor                     = 0.5
luminocity_factor                   = 0.5 				; фактор освещения
transparency_threshold              = 0.25

[karlik_vision_danger]
min_view_distance                   = 0.7				; коэффициент, который множится на eye_range, в зависимости от угла
max_view_distance                   = 1.0				; коэффициент, который множится на eye_range, в зависимости от угла
visibility_threshold                = 100.0				; значение, при достижении суммой которого объект считается видимым
always_visible_distance             = 0.3
time_quant                          = 0.001
decrease_value                      = 0.01				; значение, на которое уменьшается вес, если объект попал в фрустум, но отсёкся по каким-то причинам
velocity_factor                     = 0.5
luminocity_factor                   = 0.5 				; фактор освещения
transparency_threshold              = 0.25

[m_karlik_damage]
; bone_name                           = <hit_scale>,-1,<wound_scale>
;<hit_scale>	- коэфф. изменения хита (уменьшения здоровья)
;<wound_scale>	- коэфф. изменения величины открытой раны

default                             = 0.05, -1, 0.1

bip01_pelvis                        = 1.0, 2, 0.3
bip01_spine                         = 1.0, 2, 0.8
bip01_spine1                        = 1.0, 2, 0.8
bip01_spine2                        = 1.0, 2, 0.8
bip01_neck                          = 1.0, 0, 1.0
bip01_head                          = 3.0, 0, 1.0
leye                                = 2.0, 0, 1.0, 5.0
reye                                = 2.0, 0, 1.0, 5.0

bip01_l_clavicle                    = 1.0, 8, 0.7
bip01_l_upperarm                    = 1.0, 10, 0.6
bip01_l_forearm                     = 0.2, 10, 0.5
bip01_l_hand                        = 0.1, 1, 0.2

bip01_r_clavicle                    = 1.0, 8, 0.7
bip01_r_upperarm                    = 1.0, 8, 0.6
bip01_r_forearm                     = 0.2, 8, 0.5
bip01_r_hand                        = 0.1, 1, 0.2

bip01_l_thigh                       = 1.0, 4, 0.5
bip01_l_calf                        = 1.0, 4, 0.4
bip01_l_foot                        = 0.2, 4, 0.3
bip01_l_toe0                        = 0.0, -1, 0.2
bip01_l_toe01                       = 0.0, -1, 0.2
bip01_r_thigh                       = 1.0, 6, 0.5
bip01_r_calf                        = 1.0, 6, 0.4
bip01_r_foot                        = 0.2, 6, 0.3
bip01_r_toe0                        = 0.0, -1, 0.2
bip01_r_toe01                       = 0.0, -1, 0.2

;*********************************************************************************
; WEAK PROFILE
;*********************************************************************************

[karlik_weak]:m_karlik_e,weak_profile_base
$spawn                              = "monsters\karlik\karlik_01_weak"

visual                              = monsters\karlik\karlik_1.ogf

health_hit_part                     = 0.25


;*********************************************************************************
; NORMAL PROFILE
;*********************************************************************************

[karlik_normal]:m_karlik_e,normal_profile_base
$spawn                              = "monsters\karlik\karlik_02_normal"

visual                              = monsters\karlik\karlik_2.ogf

health_hit_part                     = 0.15

;*********************************************************************************
; STRONG PROFILE
;*********************************************************************************

[karlik_strong]:m_karlik_e,strong_profile_base
$spawn                              = "monsters\karlik\karlik_03_strong"

visual                              = monsters\karlik\karlik_3.ogf

health_hit_part                     = 0.1
attack_params                       = karlik_strong_attack_params

[karlik_strong_attack_params]
;---------------------------------------------------------------------------------------------------------------------------------------------
;	anim			| time[0..1] | hit_power | impulse | impulse_dir (x,y,z)  |	Field of hit_test  (left,right, bottom, top ) |	Test Dist
;---------------------------------------------------------------------------------------------------------------------------------------------
stand_attack_0    		= 0.4,		0.55,	       120,        2.0, 1.0, 0.5,		 -1.6, 1.6, -1.6, 1.6,				              2.3
stand_attack_1			= 0.4,		0.55,	       120,        2.0, 1.0, 0.5,		 -1.6, 1.6, -1.6, 1.6,				              2.3
stand_attack_2			= 0.4,		0.55,	       120,        2.0, 1.0, 0.5,		 -1.6, 1.6, -1.6, 1.6,				              2.3


;*********************************************************************************
; VERY STRONG PROFILE
;*********************************************************************************

[karlik_really_strong]:m_karlik_e,very_strong_profile_base
$spawn                              = "monsters\karlik\karlik_04_very_strong"

visual                              = monsters\karlik\karlik_4.ogf

health_hit_part                     = 0.07
attack_params                       = karlik_strong_attack_params
