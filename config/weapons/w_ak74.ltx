[wpn_ak74]:weapon_base,weapon_5.45x39,weapon_gp25
$npc                                    = on
$prefetch                               = 8
$spawn                                  = "weapons\ak-74"
animation_slot                          = 2
class                                   = WP_AK74
ef_main_weapon_type                     = 2
ef_weapon_type                          = 6 ; weapon type for AI: 5-pistols, 6-automatics, 7-shotguns, 8-sniper rifles
hand_dependence                         = 1
repair_compatibility                    = ak  ; group name used in ui_repair_kit.script to make certain weapons compatible for repair
scheduled                               = off
weapon_class                            = assault_rifle
weapon_rank                             = 2

; Inventory icon
inv_grid_width                          = 5
inv_grid_height                         = 2
inv_grid_x                              = 0
inv_grid_y                              = 0
grenade_launcher_x                      = 117
grenade_launcher_y                      = 24
silencer_x                              = 203
silencer_y                              = 16

; Text
inv_name                                = wpn-ak74
inv_name_short                          = wpn-ak74
description                             = enc_weapons1_wpn-ak74

; Visual
hud                                     = wpn_ak74_hud
position                                = -0.026, -0.175, 0.0
orientation                             = 0, 0, 0
strap_position                          = -0.26,-0.11,0.25
strap_orientation                       = -15,-9,110
strap_bone0                             = bip01_spine2
strap_bone1                             = bip01_spine1
visual                                  = dynamics\weapons\wpn_ak74\wpn_ak74.ogf

; Effects
fire_point                              = 0,0.218,0.656
fire_point2                             = 0,0.161,0.583
shell_point                             = 0.02,0.04,0.5
shell_dir                               = 0, 0, 0.4
light_color                             = 0.6, 0.5, 0.3
light_range                             = 5
light_var_color                         = 0.05
light_var_range                         = 0.5
light_time                              = 0.2
silencer_light_color                    = 0.6, 0.5, 0.3
silencer_light_range                    = 0.01
silencer_light_var_color                = 0.05
silencer_light_var_range                = 0.5
silencer_light_time                     = 0.2

; Sounds
snd_draw                                = weapons\ak\ak_draw
snd_empty                               = weapons\ak_empty, 0.7
snd_holster                             = weapons\rifle_holster
snd_reload                              = weapons\aks74\aks74_reload
snd_shoot                               = weapons\ak74\ak74_shoot
snd_silncer_shot                        = weapons\ak74\ak74_shot_sil

; Upgrade icon
upgr_icon                               = ui_inGame2_upgrade_weapon_AKM74_2
upgr_icon_x                             = 304
upgr_icon_y                             = 627
upgr_icon_width                         = 295
upgr_icon_height                        = 110

; Cost & Weight
cost                                    = 9500    ; base weapon cost
inv_weight                              = 3.0     ; weapon weight in inventory
ph_mass                                 = 4       ; physical mass of the world model

; Ammo
ammo_limit                              = 999
ammo_mag_size                           = 30      ; default magazine size

; Features
fire_modes                              = 1, -1   ; available fire modes: 1 - single shot, -1 - full auto, any other number - controlled burst (the last mode in the list will be the default)
scopes_sect                             = scope_ak74, scope_x2.7_ak74, scope_live_detector_ak74, scope_night_ak74, scope_var_ak74
scope_status                            = 0       ; status of scope (0 - none, 1 - integrated, 2 - attachable)
silencer_status                         = 2       ; status of a silencer (0 - none, 1 - integrated, 2 - attachable)
grenade_launcher_status                 = 2       ; status of grenade launcher (0 - none, 1 - integrated, 2 - attachable)

; Impact

; Ballistics
fire_dispersion_base                    = 0.62    ; base bullet dispersion of the weapon barrel itself

; Performance
rpm                                     = 600     ; base rate of fire in round per minute

; Reliability
misfire_start_condition                 = 0.5
misfire_end_condition                   = 0.0
misfire_start_prob                      = 0.001   ; misfire probability for every shot when condition == misfire_start_condition (value interpolates between this and misfire_end_prob)
misfire_end_prob                        = 0.1    ; misfire probability for every shot when condition is below misfire_end_condition
condition_shot_dec                      = 0.0002  ; weapon deterioration for every shot
condition_queue_shot_dec                = 0.0002  ; weapon deterioration for every shot in automatic mode

; Handling
control_inertion_factor                 = 1.3f    ; how much the mouse look slows down when looking around with this weapon
PDM_disp_base                           = 3.0     ; base actor dispersion koefficient when not aiming down the sights (firing from the hip)
PDM_disp_vel_factor                     = 1.3     ; actor hip fire dispersion multiplied by current speed
PDM_disp_accel_factor                   = 1.3     ; actor hip fire dispersion multiplied by current speed (when running)

; Recoil
cam_dispersion                          = 1.2     ; for every shot in a burst, camera jumps up by degree = cam_dispersion + (cam_dispersion_inc * shot_num)
cam_dispersion_inc                      = 0.6
cam_dispersion_frac                     = 0.5     ; controls the randomness of camera jumps, 0 - total randomness (from 0 degrees to full jump), 1 - no randomness (always full jump)
cam_step_angle_horz                     = 3.0     ; amount of horizontal camera jumping, is multiplied by current vertical angle
zoom_cam_dispersion                     = 0.8     ; base cam recoil amount per shot when aiming
zoom_cam_dispersion_inc                 = 0.45
zoom_cam_step_angle_horz                = 3.0     ; horizontal recoil amount when aiming

; Aiming
zoom_enabled                            = true    ; ability to aim down the sights

; Upgrades
upgrade_scheme                          = upgrade_scheme_ak74 ; upgrade scheme used to determine the upgrade button positions on upgrade screen
upgrades                                = up_gr_firstab_ak74, up_gr_seconab_ak74, up_gr_thirdab_ak74, up_gr_fourtab_ak74, up_gr_fifthab_ak74, up_gr_fifthcd_ak74 ; root upgrades available for this weapon
installed_upgrades                      = ; a list of pre-installed upgrades

; AI Params
min_radius                              = 30  ; NOT USED by engine
max_radius                              = 100 ; NOT USED by engine
holder_range_modifier                   = 1.1  ; AI visibility range multiplier when aiming
holder_fov_modifier                     = 0.85 ; AI visibility cone fov multiplier when aiming


[wpn_ak74_hud]
aim_hud_offset_pos                      = -0.09035,0.05975,-0.12
aim_hud_offset_pos_16x9                 = -0.09035,0.05975,-0.12
aim_hud_offset_rot                      = 0.03075,0.03485,0
aim_hud_offset_rot_16x9                 = 0.03075,0.03485,0

anim_bore                               = ak74_idle_aim
anim_bore_g                             = ak74_idle_aim_w_gl
anim_bore_w_gl                          = ak74_idle_aim_w_gl
anim_hide                               = ak74_holster,,3.0
anim_hide_g                             = ak74_holster_w_gl,,3.0
anim_hide_w_gl                          = ak74_holster_w_gl,,3.0
anim_idle                               = ak74_idle
anim_idle_aim                           = ak74_idle_aim
anim_idle_g                             = ak74_idle_w_gl
anim_idle_g_aim                         = ak74_idle_aim_w_gl
anim_idle_moving                        = ak74_idle_moving
anim_idle_moving_crouch                 = ak74_idle_crouch
anim_idle_moving_crouch_g               = ak74_idle_crouch_w_gl
anim_idle_moving_crouch_w_gl            = ak74_idle_crouch_w_gl
anim_idle_moving_g                      = ak74_idle_moving_w_gl
anim_idle_moving_w_gl                   = ak74_idle_moving_w_gl
anim_idle_sprint                        = ak74_idle_sprint
anim_idle_sprint_g                      = ak74_idle_sprint_w_gl
anim_idle_sprint_w_gl                   = ak74_idle_sprint_w_gl
anim_idle_w_gl                          = ak74_idle_w_gl
anim_idle_w_gl_aim                      = ak74_idle_aim_w_gl
anim_reload                             = ak74_reload_empty
anim_reload_empty                       = ak74_reload_empty
anim_reload_empty_w_gl                  = ak74_reload_empty_w_gl
anim_reload_g                           = ak74_reload_grenade
anim_reload_w_gl                        = ak74_reload_empty_w_gl
anim_shots                              = ak74_shoot
anim_shots_g                            = ak74_shoot_grenade
anim_shots_w_gl                         = ak74_shoot_w_gl
anim_show                               = ak74_draw
anim_show_g                             = ak74_draw_w_gl
anim_show_w_gl                          = ak74_draw_w_gl
anim_switch                             = ak74_idle_aim_w_gl
anim_switch_g                           = ak74_idle_aim_w_gl
attach_place_idx                        = 0
fire_bone                               = muzzle
fire_bone2                              = muzzle_gl
fire_point                              = 0,0,0
fire_point2                             = 0,0,0
gl_hud_offset_pos                       = -0.052,0.017,0
gl_hud_offset_pos_16x9                  = -0.052,0.017,0
gl_hud_offset_rot                       = -0.072,0.032,0
gl_hud_offset_rot_16x9                  = -0.072,0.032,0
hands_orientation                       = 2,2,0
hands_orientation_16x9                  = 2,2,0
hands_position                          = -0.065,-0.15,0.1
hands_position_16x9                     = -0.065,-0.15,0.1
item_orientation                        = 0,0,0
item_position                           = 0,0,0
item_visual                             = dynamics\weapons\wpn_ak74\wpn_ak74_hud.ogf
lean_hud_offset_pos                     = 0,0,0
lean_hud_offset_rot                     = 0,0,0
shell_bone                              = gilza
shell_dir                               = 0,1,0
shell_point                             = 0,0,0
zoom_hide_crosshair                     = true


[scope_ak74]
scope_name                              = wpn_addon_scope
scope_x                                 = 30
scope_y                                 = 3


[scope_x2.7_ak74]:scope_ak74
scope_name                              = wpn_addon_scope_x2.7

[scope_live_detector_ak74]:scope_ak74
scope_name                              = wpn_addon_scope_detector

[scope_night_ak74]:scope_ak74
scope_name                              = wpn_addon_scope_night

[scope_var_ak74]:scope_ak74
scope_name                              = wpn_addon_scope_var

[wpn_ak74_m1]:wpn_ak74	;Скорострельный АК-74
$spawn                                  = "weapons\uniq\wpn_ak74_m1"
unique_item                             = true

; Text
inv_name                                = wpn-ak74_m1
inv_name_short                          = wpn-ak74_m1
description                             = enc_weapons1_wpn-ak74_m1

; Cost & Weight
cost                                    = 11050

; Performance
rpm                                     = 660

; Upgrades
installed_upgrades                      = up_secona_ak74, up_second_ak74, up_thirda_ak74, up_thirdd_ak74, up_thirde_ak74


; QUEST ITEM
;---------Говнянный АК-74 / Shitty AK-74
[wpn_ak74_m0]:wpn_ak74	;Говнянный АК-74
$spawn                                  = "weapons\uniq\wpn_ak74_m0"
unique_item                             = true

; Text
inv_name                                = wpn-ak74_m0
inv_name_short                          = wpn-ak74_m0
description                             = enc_weapons1_wpn-ak74_m0

; Visual
hud                                     = wpn_ak00_hud
visual                                  = dynamics\weapons\wpn_ak74\wpn_ak74_m0.ogf

; Cost & Weight
cost                                    = 600

; Ballistics
fire_dispersion_condition_factor        = 10

; Performance
rpm                                     = 500

; Reliability
misfire_start_condition                 = 0.9 ; misfires start early
misfire_end_condition                   = 0.2
misfire_start_prob                      = 0.1
misfire_end_prob                        = 1.0
condition_shot_dec                      = 0.005 ; 200 rounds
condition_queue_shot_dec                = 0.0065

; Recoil
cam_step_angle_horz                     = 5.0
zoom_cam_step_angle_horz                = 4.0

; Upgrades
upgrades                                = ; NOT upgradable, too fucked up


[wpn_ak00_hud]:wpn_ak74_hud
item_visual                             = dynamics\weapons\wpn_ak74\wpn_ak74_m0_hud.ogf
